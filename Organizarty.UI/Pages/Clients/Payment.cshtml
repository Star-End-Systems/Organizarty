@page "{scheduleid:Guid}"
@model PaymentModel
@using Organizarty.UI.Blazor.Components.Schedule
@using Organizarty.Application.App.Schedules.Entities;

@{
    ViewData["title"] = "Pagamento";
    Layout = "_ClientLayout";

     decimal PartyTotal(List<ItemOrder> orders)
    => orders.Aggregate(0m, (acc, x) => acc + (x.price));
}

<section class="w-full ml-auto h-screen flex-col">
    <div class="w-5/6 top-0 bg-white z-40">
        <div class="w-full flex flex-col items-center py-4">
            <div class="flex w-fit" id="titleDropdown">
                <img src="/images/General/Logo.svg" class="w-12 mb-5">
               
            </div> <!--Termina aqui-->
            <div clas="flex flex-col w-fit">
                <h1 class="font-[KonnectBold] text-[#C6C6C6] text-5xl text-center">@Model.Schedule.Name</h1>
                <h3 class="font-[Inter] text-[#848484] text-md text-center">@Model.Schedule.Type</h1>
            </div>
        </div>
        <div class="w-full flex font-[Inter] h-1/3 justify-center text-[#C6C6C6]">
            <div
                class="border border-solid border-[#C6C6C6] text-[#C6C6C6] w-1/4 rounded-2xl h-full flex items-center flex-col px-10 pb-5 mr-10">
                <h1>Código <span class="font-bold top-0">@Model.Schedule.Id.ToString().Substring(0, 5)</span></h1>
                <img src="/images/Clients/CreateParty/Bear.svg" class="h-44 mt-4">
            </div>
            <div class="flex flex-col w-fit">
                <div class="flex items-end">
                    <h1 class="font-[KonnectBold] text-[#848484] text-4xl">R$ @PartyTotal(Model.Items)</h1>
                    <p class="text-xs mb-2 ml-1">Valor total</p>
                </div>
                <hr class="rounded-[30px] border-[5px] border-[#FF008A] mt-[-7px] w-4/5">
                <h1 class="text-[#424242] text-2xl font-bold mt-5">Formas de Pagamento</h1>
                <h2 class="text-[#848484] text-sm mt-[-8px] mb-10">Selecione a forma de pagamento</h2>
                <div class="flex justify-start items-center h-fit">
                    <div class="w-fit flex justify-start">
                        <button class="w-fit rounded-2xl bg-[#FF008A] text-md font-[Inter] text-white px-4 py-3 mr-5">
                            Efetuar Pagamento
                        </button>
                    </div>
                    <div class="flex flex-col text-[#848484] h-full mr-2 justify-center items-center">
                        <img src="/images/Payment/IconCards.svg" class="w-8">
                        <p class="text-[9px] font-[Inter] font-bold">Cartões</p>
                    </div>
                    <div class="flex flex-col text-[#848484] h-full mr-2 items-center justify-center">
                        <img src="/images/Payment/IconBoleto.svg" class="w-8">
                        <p class="text-[9px] font-[Inter] font-bold">Boletos</p>
                    </div>
                    <div class="flex flex-col text-[#848484] h-full items-center">
                        <img src="/images/Payment/IconPix.svg" class="w-8">
                        <p class="text-[9px] font-[Inter] font-bold">Pix</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="h-fit w-full flex items-end">
        <div class="w-full mt-5 flex justify-center">
            <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 ">
                <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                    <tr>
                        <th scope="col" class="px-6 py-3">Category</th>
                        <th scope="col" class="px-6 py-3">Name</th>
                        <th scope="col" class="px-6 py-3">Quantity</th>
                        <th scope="col" class="px-6 py-3">Note</th>
                        <th scope="col" class="px-6 py-3">Total</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.Items)
                    {
                        <tr
                            class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                @item.type</th>
                            <td class="px-6 py-4">@item.name</td>
                            <td class="px-6 py-4">@item.quantity</td>
                            <td class="px-6 py-4">@item.note</td>
                            <td class="px-6 py-4">R$ @item.price</td>

                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</section>
